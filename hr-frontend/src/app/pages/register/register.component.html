<div class="register-container">
    <div class="background-shapes">
        <div class="shape shape-1"></div>
        <div class="shape shape-2"></div>
        <div class="shape shape-3"></div>
    </div>

    <header class="header">
        <img src="\assets\logos\AIAIVN-05-Logo-DarkBackground.png" class="logo" alt="HR AIAIVN Logo" />
        <h1 class="title">HR AIAIVN</h1>
        <p class="subtitle">Hệ thống quản lý nhân sự</p>
    </header>

    <mat-card class="register-card animate-entry">
        <div class="card-header">
            <mat-icon class="header-icon">person_add</mat-icon>
            <h2>Đăng ký</h2>
        </div>

        <form (ngSubmit)="onRegister()" #registerForm="ngForm" class="register-form">
            <mat-form-field appearance="fill" class="form-field">
                <mat-label>Họ và tên</mat-label>
                <mat-icon matPrefix class="field-icon">person</mat-icon>
                <input matInput [(ngModel)]="full_name" name="full_name" required #fullNameField="ngModel" />
                <mat-error *ngIf="fullNameField.invalid && fullNameField.touched">
                    Vui lòng nhập họ và tên
                </mat-error>
            </mat-form-field>

            <mat-form-field appearance="fill" class="form-field">
                <mat-label>Email</mat-label>
                <mat-icon matPrefix class="field-icon">email</mat-icon>
                <input matInput [(ngModel)]="email" name="email" required email #emailField="ngModel" />
                <mat-error *ngIf="emailField.invalid && emailField.touched">
                    Email không hợp lệ
                </mat-error>
            </mat-form-field>

            <mat-form-field appearance="fill" class="form-field">
                <mat-label>Số điện thoại</mat-label>
                <mat-icon matPrefix class="field-icon">phone</mat-icon>
                <input matInput [(ngModel)]="phone" name="phone" required #phoneField="ngModel" />
                <mat-error *ngIf="phoneField.invalid && phoneField.touched">
                    Vui lòng nhập số điện thoại
                </mat-error>
            </mat-form-field>

            <mat-form-field appearance="fill" class="form-field">
                <mat-label>Mật khẩu</mat-label>
                <mat-icon matPrefix class="field-icon">lock</mat-icon>
                <input matInput [type]="hidePassword ? 'password' : 'text'" 
                       [(ngModel)]="password" name="password" 
                       required #passwordField="ngModel" />
                <button mat-icon-button matSuffix type="button" 
                        (click)="hidePassword = !hidePassword">
                    <mat-icon>{{hidePassword ? 'visibility_off' : 'visibility'}}</mat-icon>
                </button>
                <mat-error *ngIf="passwordField.invalid && passwordField.touched">
                    Vui lòng nhập mật khẩu
                </mat-error>
            </mat-form-field>

            <mat-form-field appearance="fill" class="form-field">
                <mat-label>Xác nhận mật khẩu</mat-label>
                <mat-icon matPrefix class="field-icon">lock</mat-icon>
                <input matInput [type]="hideConfirmPassword ? 'password' : 'text'" 
                       [(ngModel)]="confirmPassword" name="confirmPassword" 
                       required #confirmPasswordField="ngModel" />
                <button mat-icon-button matSuffix type="button" 
                        (click)="hideConfirmPassword = !hideConfirmPassword">
                    <mat-icon>{{hideConfirmPassword ? 'visibility_off' : 'visibility'}}</mat-icon>
                </button>
                <mat-error *ngIf="confirmPasswordField.invalid && confirmPasswordField.touched">
                    Vui lòng xác nhận mật khẩu
                </mat-error>
            </mat-form-field>

            <button mat-raised-button color="primary" 
                    class="submit-button" 
                    type="submit"
                    [disabled]="!registerForm.form.valid">
                <mat-icon>person_add</mat-icon>
                <span>Đăng ký</span>
            </button>
        </form>


        <div class="login-link">
            <span class="login-text">Đã có tài khoản?</span>
            <a mat-button color="accent" [routerLink]="['/login']">
                Đăng nhập
                <mat-icon>arrow_forward</mat-icon>
            </a>
        </div>
    </mat-card>
</div>