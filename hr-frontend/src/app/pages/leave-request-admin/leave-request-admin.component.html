<div class="content">
    <h1 class="header-content">DANH SÁCH ĐƠN XIN NGHỈ PHÉP</h1>
  
    <table mat-table [dataSource]="leaveRequests" class="mat-elevation-z8 custom-table">
  
      <!-- Username Column -->
      <ng-container matColumnDef="username">
        <th mat-header-cell *matHeaderCellDef> Tên nhân viên </th>
        <td mat-cell *matCellDef="let element"> {{ element.employee.full_name }} </td>
      </ng-container>
  
      <!-- Start Date Column -->
      <ng-container matColumnDef="startDate">
        <th mat-header-cell *matHeaderCellDef> Ngày bắt đầu </th>
        <td mat-cell *matCellDef="let element">
          {{ element.leave_request.start_date | date: 'dd/MM/yyyy' }}
        </td>
      </ng-container>
  
      <!-- End Date Column -->
      <ng-container matColumnDef="endDate">
        <th mat-header-cell *matHeaderCellDef> Ngày kết thúc </th>
        <td mat-cell *matCellDef="let element">
          {{ element.leave_request.end_date | date: 'dd/MM/yyyy' }}
        </td>
      </ng-container>
  
      <!-- Note Column -->
      <ng-container matColumnDef="note">
        <th mat-header-cell *matHeaderCellDef> Ghi chú </th>
        <td mat-cell *matCellDef="let element">
          {{ element.leave_request.notes }}
        </td>
      </ng-container>
  
      <!-- Status Column -->
      <ng-container matColumnDef="status">
        <th mat-header-cell *matHeaderCellDef> Trạng thái </th>
        <td mat-cell *matCellDef="let element">
          <span class="status" [ngClass]="{'approved': element.leave_request.status === 'Chấp nhận', 'rejected': element.leave_request.status === 'Từ chối'}">
            {{ element.leave_request.status }}
          </span>
        </td>
      </ng-container>
  
      <!-- Type Column -->
      <ng-container matColumnDef="type">
        <th mat-header-cell *matHeaderCellDef> Loại nghỉ phép </th>
        <td mat-cell *matCellDef="let element">
          {{ element.leave_type.type_name }}
        </td>
      </ng-container>
  
      <!-- Action Column -->
      <ng-container matColumnDef="action">
        <th mat-header-cell *matHeaderCellDef> Hành động </th>
        <td mat-cell *matCellDef="let element">
          <button mat-icon-button color="primary" (click)="approveRequest(element)">
            <mat-icon>check_circle</mat-icon>
          </button>
          <button mat-icon-button color="warn" (click)="rejectRequest(element)">
            <mat-icon>cancel</mat-icon>
          </button>
        </td>
      </ng-container>
  
      <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
      <tr mat-row *matRowDef="let element; columns: displayedColumns;"></tr>
    </table>
  
    <div *ngIf="leaveRequests.length === 0" class="no-data">
      <mat-icon>info</mat-icon>
      <p>Không có đơn nghỉ phép nào.</p>
    </div>
  </div>
  