<div class="calendar-container p-4 bg-gray-100 rounded-lg shadow-md">
    <header class="calendar-header mb-4 flex items-center justify-between">
        <h2 class="text-2xl font-bold text-indigo-700">{{ currentMonth() }}</h2>
        <div class="flex items-center gap-3">
            <button 
                class="px-3 py-2 border border-indigo-500 rounded-lg text-indigo-500 hover:bg-indigo-500 hover:text-white transition"
                (click)="toCurrentMonth()">
                Hôm nay
            </button>
            <div class="flex gap-2">
                <button 
                    class="px-3 py-2 bg-blue-500 hover:bg-blue-600 text-white rounded-lg transition"
                    (click)="prevMonth()">
                    Tháng trước
                </button>
                <button 
                    class="px-3 py-2 bg-blue-500 hover:bg-blue-600 text-white rounded-lg transition"
                    (click)="nextMonth()">
                    Tháng sau
                </button>
            </div>
        </div>
    </header>

    <div class="mt-2 grid grid-cols-7 gap-3">
        <div *ngFor="let day of daysEnriched()"
    (click)="!day.isPast && selectDate(day.day)"
    [ngClass]="[
      'relative flex flex-col items-center justify-center rounded-lg p-3 h-24',
      day.colStartClass,
      day.isToday ? 'bg-yellow-100 text-gray-800' : '',
      day.isPast ? 'bg-gray-200 text-gray-500 pointer-events-none' : '',
      !day.isToday && day.isPast ? 'bg-gray-200 text-gray-500' : '',
      day.isSelected ? 'bg-pink-200 text-gray-900' : '',
      !day.isToday && !day.isPast && !day.isSelected ? 'bg-white' : '',
      'hover:ring-2 hover:ring-blue-400 transition'
    ]">
    
    <div *ngIf="markerTpl">
        <ng-container *ngTemplateOutlet="markerTpl; context: { $implicit: day.markers }"></ng-container>
    </div>

    <div class="absolute bottom-2 right-2 w-6 h-6 flex items-center justify-center bg-gray-200 text-gray-700 rounded-full text-xs font-semibold">
        {{ day.day | date: 'd' }}
    </div>
</div>


    </div>
</div>
